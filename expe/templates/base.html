<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8"/>
    <title>
        {% block title %}

        {% endblock %}
    </title>

    {% load staticfiles %}
    {% load apptags %}
    
    {% block stylesheets %}
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="{% static "css/expe.css" %}">
        <script src="https://kit.fontawesome.com/ee9d97bd14.js" crossorigin="anonymous"></script>
    {% endblock %}
</head>
<body>

    <div class="container">
    {% block content %}
        
    {% endblock %}
    </div>

    <!-- Global scripts used -->
    <script type="text/javascript"> 

        // JS need to know if apache2 server use BASE_URL
        // add by default '/' into BASE
        const BASE     = "{{BASE}}"
        const host     = window.location.host
        var baseUrl    = location.protocol + '//' + host + '/'

        if (BASE !== '') baseUrl += BASE + '/'

        const expeUrl  = baseUrl + 'expe'  

        // EXPE variables parts
        // get access to django variables
        var BEGIN_EXPE = "{{request.session.expe_started}}" === 'True'
        var END_EXPE   = "{{request.session.expe_finished}}" === 'True'
    </script>

    <!-- Custom Javascript file for experience template is placed here -->
    {% block javascripts %}
        
    {% endblock %}

    <!-- Dynamically load JS file of experience -->
    {% for file in js %}
        {% with 'js/'|add:file as js_static %}
            <script src="{% static js_static %}"></script>
        {% endwith %}
    {% endfor %}
</body>
